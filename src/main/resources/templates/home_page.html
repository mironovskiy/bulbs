<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Rooms</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script charset="utf-8" src="/resources/js/js.js" type="text/javascript"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js" type="text/javascript"></script>
    <script charset="utf-8" src="https://api-maps.yandex.ru/1.1/index.xml" type="text/javascript"></script>
</head>
    <body onload="loadHomePage()">
        <div>
            <form action="home" method="post">
                <div class="input-group" style="position: relative; margin:0 auto; margin-top: 20px; max-width: 500px;">
                    <input type="text" class="form-control" placeholder="Название комнаты" required name="nameOfRoom">
                    <select required th:placeholder="Страна" class="custom-select" id="inputGroupSelect04" aria-label="Example select with button addon" name="countryOfRoom">
                        <option value="Беларусь">Беларусь</option>
                        <option value="Россия">Россия</option>
                        <option value="Польша">Польша</option>
                    </select>
                    <div class="input-group-append">
                        <button class="btn  btn-primary" type="submit">Создать комнату</button>
                    </div>
                </div>
            </form>
        </div>

        <div style="text-align: center; margin-top: 20px;">
            <input type="hidden" th:value="${message}" name="message" id="message">
            Список комнат:
            <table class="table" style="margin: 20px">
                <thead>
                <tr>
                    <th scope="col">Название</th>
                    <th scope="col">Страна</th>
                    <th scope="col"></th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="room : ${rooms}">
                    <form action="home/room"  method="post">
                        <input type="hidden" th:value="${room.getName()}" name="nameOfRoom">
                        <input type="hidden" th:value="${room.getCountry()}" name="country">
                        <input type="hidden" name="userCountry" class="userCountry">
                        <td th:text="${room.getName()}"></td>
                        <td th:text="${room.getCountry()}"></td>
                        <td><button type="submit" class="btn btn-primary" th:onclick="getUserCountry([[${room.getCountry()}]])">Присоединиться</button></td>
                    </form>
                </tr>
                </tbody>
            </table>
        </div>

    </body>
    <footer>

    </footer>
</html>